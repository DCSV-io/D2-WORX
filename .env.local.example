# D2-WORX Environment Variables
# Copy this file to .env.local and fill in your values.
# WARNING: Never commit .env.local to version control.
#
# Convention: SECTION_PROPERTY (single underscore = hierarchy separator).
# D2Env auto-maps these to .NET configuration paths for both local and production use.

# ===========================================
# Infrastructure (Aspire Parameters)
# ===========================================
DB_USERNAME=postgres
DB_PASSWORD=your_secure_password_here
DBA_EMAIL=admin@example.com
DBA_PASSWORD=your_secure_password_here
MQ_USERNAME=rabbitmq
MQ_PASSWORD=your_secure_password_here
CACHE_PASSWORD=your_secure_password_here
S3_USERNAME=minio
S3_PASSWORD=your_secure_password_here
OTEL_USERNAME=admin
OTEL_PASSWORD=your_secure_password_here

# ===========================================
# Geo Service Options
# ===========================================
# IPInfo API token for WhoIs/geolocation lookups
# Get a free token at https://ipinfo.io/signup
GEOINFRAOPTIONS_IPINFOACCESSTOKEN=your_ipinfo_token_here

# ===========================================
# Geo API — API Key Mappings (server-side)
# ===========================================
# Maps API keys to allowed context keys for contact operations.
# Format: GEOAPPOPTIONS_APIKEYMAPPINGS__<api-key>__<index>=<context-key>
GEOAPPOPTIONS_APIKEYMAPPINGS__your_auth_api_key_here__0=org_contact
GEOAPPOPTIONS_APIKEYMAPPINGS__your_auth_api_key_here__1=user

# ===========================================
# Geo Client Options — Shared Defaults
# ===========================================
# All Geo client consumers inherit these. Override per-service with {Prefix}GeoClientOptions.
# GEOCLIENTOPTIONS_WHOISCACHEMAXENTRIES=10000

# ===========================================
# Geo Client Options — Auth Service Overrides
# ===========================================
# Prefix: "Auth" → section: AuthGeoClientOptions
# API key for authenticating to Geo service contact operations (must match a key above)
AUTHGEOCLIENTOPTIONS_APIKEY=your_api_key_here
# Allowed context keys (client-side defense-in-depth, must match server mapping)
AUTHGEOCLIENTOPTIONS_ALLOWEDCONTEXTKEYS__0=org_contact
AUTHGEOCLIENTOPTIONS_ALLOWEDCONTEXTKEYS__1=user

# ===========================================
# REST Gateway — Service-to-Service API Keys
# ===========================================
# Valid API keys for backend callers (SvelteKit, etc.) hitting service-only REST endpoints.
# Format: SERVICEKEYOPTIONS_VALIDKEYS__<index>=<key>
SERVICEKEYOPTIONS_VALIDKEYS__0=your_service_key_here

# ===========================================
# SvelteKit / Web Client
# ===========================================
PUBLIC_API_URL=http://localhost:5000
